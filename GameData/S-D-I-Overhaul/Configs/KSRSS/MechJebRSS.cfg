@PART[*]:HAS[@MODULE[ModuleCommand]]:AFTER[LRTR]
{
    %MODULE[MechJebCore]
    {
        MechJebLocalSettings
        {
            // Assistant modules
            MechJebModuleCustomWindowEditor { unlockTechs = specializedControl }
            MechJebModuleSmartASS { unlockTechs = specializedControl }
            MechJebModuleTranslatron { unlockTechs = specializedControl }
            MechJebModuleWarpHelper { unlockTechs = specializedControl }
            MechJebModuleAttitudeAdjustment { unlockTechs = specializedControl }
            MechJebModuleThrustWindow { unlockTechs = specializedControl }
            MechJebModuleRCSBalancerWindow { unlockTechs = specializedControl }
            MechJebModuleRoverWindow { unlockTechs = specializedFlightSystems }
            MechJebModuleSpaceplaneGuidance { unlockTechs = specializedFlightSystems }

            // Fully automated modules
            MechJebModuleManeuverPlanner { unlockTechs = unmannedTech }
            MechJebModuleNodeEditor { unlockTechs = unmannedTech }
            MechJebModuleAscentGuidance { unlockTechs = unmannedTech }
            MechJebModuleLandingGuidance { unlockTechs = advUnmanned }
            MechJebModuleDockingGuidance { unlockTechs = advUnmanned }
            MechJebModuleRendezvousAutopilotWindow { unlockTechs = advUnmanned }
            MechJebModuleRendezvousGuidance { unlockTechs = advUnmanned }
        }
    }
}

// Specialized Control (Tier 6)
+PART[MechJebModuleCustomWindowEditor]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks custom window editor for advanced control.
}
+PART[MechJebModuleSmartASS]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks Smart ASS for attitude control system.
}
+PART[MechJebModuleTranslatron]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks Translatron for precise translational control.
}
+PART[MechJebModuleWarpHelper]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks Warp Helper for warp management.
}
+PART[MechJebModuleAttitudeAdjustment]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks Attitude Adjustment for fine-tuning spacecraft orientation.
}
+PART[MechJebModuleThrustWindow]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks Thrust Window for advanced thrust management.
}
+PART[MechJebModuleRCSBalancerWindow]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedControl
    @cost = 2343.75
    @description = Unlocks RCS Balancer Window for precise RCS management.
}

// Specialized Flight Systems (Tier 8)
+PART[MechJebModuleRoverWindow]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedFlightSystems
    @cost = 4687.5
    @description = Unlocks Rover Window for advanced rover operations.
}
+PART[MechJebModuleSpaceplaneGuidance]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = specializedFlightSystems
    @cost = 4687.5
    @description = Unlocks Spaceplane Guidance for spaceplane operations.
}

// Unmanned Tech (Tier 7)
+PART[MechJebModuleManeuverPlanner]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = unmannedTech
    @cost = 3515.625
    @description = Unlocks Maneuver Planner for precise maneuver planning.
}
+PART[MechJebModuleNodeEditor]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = unmannedTech
    @cost = 3515.625
    @description = Unlocks Node Editor for detailed node editing.
}
+PART[MechJebModuleAscentGuidance]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = unmannedTech
    @cost = 3515.625
    @description = Unlocks Ascent Guidance for automated ascent.
}

// Advanced Unmanned (Tier 8)
+PART[MechJebModuleLandingGuidance]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = advUnmanned
    @cost = 4687.5
    @description = Unlocks Landing Guidance for automated landings.
}
+PART[MechJebModuleDockingGuidance]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = advUnmanned
    @cost = 4687.5
    @description = Unlocks Docking Guidance for automated docking.
}
+PART[MechJebModuleRendezvousAutopilotWindow]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = advUnmanned
    @cost = 4687.5
    @description = Unlocks Rendezvous Autopilot for automated rendezvous.
}
+PART[MechJebModuleRendezvousGuidance]:NEEDS[MechJeb2]:AFTER[LRTR]
{
    @TechRequired = advUnmanned
    @cost = 4687.5
    @description = Unlocks Rendezvous Guidance for automated rendezvous.
}
