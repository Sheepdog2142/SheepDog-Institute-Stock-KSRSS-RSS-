SCALETYPE
{
    name = free_stack_USII
    freeScale = true
    defaultScale = 1.0
    suffix = m
    scaleFactors = 0.625, 0.9375, 1.25, 1.875, 2.5, 3.75, 5
    TWEAKSCALEEXPONENTS { mass = 2 }
}

SCALETYPE
{
    name = free_USII
    freeScale = true
    defaultScale = 1.0
    suffix = %
    scaleFactors = 25, 50, 75, 100, 150, 175
    TWEAKSCALEEXPONENTS { mass = 2 }
}


// Apply appropriate SCALETYPE to Cylindrical Shrouds
@PART[USQuadcore|USCylindricalShroud0625|USCylindricalShroud1500|USCylindricalShroud125|USPenticore|USAdaptorShroud1250|USAdaptorShroud1250Vostok|USAdaptorShroud1500|USOctocore|USCylindricalShroud250|USCylindricalShroud125ResizedTo1875-1|USAdaptorShroud1250Soyuz|USCylindricalShroud1500ResizedTo1875-2|USAdaptorShroud1875]:FINAL
{ 
    !MODULE[TweakScale] {}  // Remove any existing TweakScale module

    %MODULE[TweakScale]
    {
        type = free_stack_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}

// Apply appropriate SCALETYPE to Power Sources (Batteries| Fuel Cells| RTG)
@PART[USACDTiny|USACDSmall|USACD1500|USACDMedium|USACDLarge]:FINAL
{ 
    !MODULE[TweakScale] {}  // Remove any existing TweakScale module
    
    %MODULE[TweakScale]
    {
        type = free_stack_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}

// Decouplers and stack separators
@PART[*]:HAS[@MODULE[ModuleDecouple]]:FINAL // All decouplers and stack separators
{
    !MODULE[TweakScale] {}  // Remove any existing TweakScale module
    
    %MODULE[TweakScale]
    {
        type = free_stack_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}

// Fairings
@PART[*]:HAS[@MODULE[ModuleProceduralFairing]]:FINAL // All fairings
{
    !MODULE[TweakScale] {}  // Remove any existing TweakScale module
    
    %MODULE[TweakScale]
    {
        type = free_stack_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}

// Additional Power Sources (Batteries| Fuel Cells| RTG)
@PART[USBatteryWedge|USFuelCellMedium|USFuelCellSmall|USRTGWedge]:FINAL
{
    !MODULE[TweakScale]  // Remove any existing TweakScale module    
    %MODULE[TweakScale]
    {
        type = free_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}

// Cargo Storage and Life Support
@PART[USCargoStorageWedge|USHydrazineWedge|USAerozineWedge|USCarbonDioxideWedge|USFoodWedge|USWaterWedge|USOxygenWedge|USSolidWasteWedge|USHydrogenWedge|USElektron|USComboLifesupportWedge|USGreyWaterWedge|USWaterPurifier|USRadialTanks|USSabatier]:FINAL
{
    !MODULE[TweakScale]  // Remove any existing TweakScale module    
    %MODULE[TweakScale]
    {
        type = free_USII
    }

    MODULE
    {
        name = ModuleTagNotRescaled
    }
}
